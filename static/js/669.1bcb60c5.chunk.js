"use strict";(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[669],{3309:function(n,e,t){t.d(e,{FV:function(){return m},LD:function(){return h},Oc:function(){return g},QG:function(){return j},l0:function(){return p},vZ:function(){return v}});var i,a,r,s,o,c,u=t(168),l=t(6031),d=t(9121),x=t(6355),f=t(7425),p=l.default.form(i||(i=(0,u.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),h=(0,l.default)(d.__)(a||(a=(0,u.Z)(["\n  flex-direction: row;\n  align-items: center;\n"]))),m=(0,l.default)(d.II)(r||(r=(0,u.Z)(["\n  min-width: 280px;\n  margin-top: 3px;\n  font-weight: 500;\n"]))),g=(0,l.default)(d.zx)(s||(s=(0,u.Z)(["\n  margin-top: 12px;\n  padding: 10px 20px;\n  width: 120px;\n"]))),v=(0,l.default)(f.xiF)(o||(o=(0,u.Z)(["\n  position: absolute;\n  width: 28px;\n  height: 28px;\n"]))),j=(0,l.default)(x.VAJ)(c||(c=(0,u.Z)(["\n  position: absolute;\n  width: 28px;\n  height: 28px;\n  \n"])))},1669:function(n,e,t){t.r(e),t.d(e,{default:function(){return en}});var i,a,r,s,o,c,u,l,d,x,f,p=t(2791),h=t(5048),m=t(6871),g=t(8806),v=t(9121),j=t(5861),b=t(885),w=t(7757),Z=t.n(w),y=t(3309),k=t(1379),C=t(620),z=t(3329),F=function(){var n=(0,g.wY)().data,e=(0,p.useState)(""),t=(0,b.Z)(e,2),i=t[0],a=t[1],r=(0,p.useState)(""),s=(0,b.Z)(r,2),o=s[0],c=s[1],u=(0,g.Tn)(),l=(0,b.Z)(u,2),d=l[0],x=l[1].isLoading,f=function(n){var e=n.currentTarget,t=e.name,i=e.value;switch(t){case"name":a(i);break;case"number":c(i);break;default:return}},h=function(){var e=(0,j.Z)(Z().mark((function e(t){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,null===n||void 0===n||!n.some((function(n){return n.name.toLowerCase()===i.toLowerCase()}))){e.next=5;break}return(0,C.PU)("".concat(i," is already exist")),e.abrupt("return");case 5:return e.next=7,d({name:i,number:o});case 7:(0,C.hS)("".concat(i," successfully added")),a(""),c(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),(0,C.kn)(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}();return(0,z.jsxs)(y.l0,{onSubmit:h,children:[(0,z.jsxs)(y.LD,{children:[(0,z.jsx)(y.vZ,{}),(0,z.jsx)(y.FV,{placeholder:"Name",value:i,onChange:f,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,z.jsxs)(y.LD,{children:[(0,z.jsx)(y.QG,{}),(0,z.jsx)(y.FV,{placeholder:"Number",value:o,onChange:f,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,z.jsx)(y.Oc,{type:"submit",disabled:x,children:x?(0,z.jsx)(k.$,{size:15}):"Add contact"})]})},L=t(9938),S=t(168),A=t(6031),_=t(7425),I=A.default.div(i||(i=(0,S.Z)(["\n  display: flex;\n  justify-content: center;\n  margin: 30px 0 30px 0;\n  text-align: center;\n"]))),N=(0,A.default)(v.__)(a||(a=(0,S.Z)(["\n  align-items: center;\n"]))),T=(0,A.default)(_._m8)(r||(r=(0,S.Z)(["\n  position: absolute;\n  width: 28px;\n  height: 28px;\n"]))),D=(0,A.default)(v.II)(s||(s=(0,S.Z)(["\n  width: 280px;\n  font-weight: 500;\n"]))),E=function(){var n=(0,h.I0)(),e=(0,h.v9)((function(n){return n.filter.value}));return(0,z.jsx)(I,{children:(0,z.jsxs)(N,{children:[(0,z.jsx)(T,{}),(0,z.jsx)(D,{placeholder:"Find contacts by name",type:"text",value:e,onChange:function(e){n((0,L.T)(e.target.value))}})]})})},V=t(1413),$=t(6036),q=t(6856),M=A.default.li(o||(o=(0,S.Z)(["\n  max-width: 450px;\n  margin: 0 auto;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #eceff1;\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n    0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n  border-radius: 5px;\n\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n"]))),G=A.default.span(c||(c=(0,S.Z)(["\n  font-weight: 500;\n"]))),J=A.default.div(u||(u=(0,S.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),O=(0,A.default)(v.zx)(l||(l=(0,S.Z)(["\n  width: 48px;\n  height: 42px;\n\n  &:not(:last-child) {\n    margin-right: 5px;\n  }\n"]))),P=(0,A.default)(q.oTc)(d||(d=(0,S.Z)(["\n  width: 28px;\n  height: 28px;\n  transition: all 0.2s ease-in-out;\n\n  ",":hover &,\n  ",":focus & {\n    fill: #f9ddb1;\n  }\n"])),O,O),Q=(0,A.default)($.bqj)(x||(x=(0,S.Z)(["\n  width: 28px;\n  height: 28px;\n  transition: all 0.2s ease-in-out;\n\n  ",":hover &,\n  ",":focus & {\n    fill: #ffa590;\n  }\n"])),O,O),R=t(5562),Y=(0,p.forwardRef)((function(n,e){var t=n.id,i=n.name,a=n.number,r=(0,m.s0)(),s=(0,g.Nt)(),o=(0,b.Z)(s,2),c=o[0],u=o[1],l=u.isLoading,d=u.isSuccess,x=u.isError;return d&&R.Notify.info("".concat(i," deleted"),{clickToClose:!0,distance:"20px",fontFamily:"inherit"}),(0,z.jsxs)(M,{ref:e,children:[x&&(0,z.jsx)("div",{children:"Something went wrong, please try again after reload"}),(0,z.jsxs)("p",{children:[(0,z.jsxs)(G,{children:[i,": "]}),a]}),(0,z.jsxs)(J,{children:[(0,z.jsx)(O,{onClick:function(){return r("/phonebook/edit/".concat(t))},disabled:l,children:l?(0,z.jsx)(k.$,{size:16}):(0,z.jsx)(P,{})}),(0,z.jsx)(O,{onClick:function(){return c(t)},disabled:l,children:l?(0,z.jsx)(k.$,{size:16}):(0,z.jsx)(Q,{})})]})]})})),B=A.default.ul(f||(f=(0,S.Z)(["\n  margin-top: 12px;\n"]))),U=t(8250),W=t(4549),X=(0,U.E)(Y),H=function(n){var e=n.contacts,t=(0,p.useRef)(!0);return(0,p.useEffect)((function(){e&&(t.current=!1)}),[e]),(0,z.jsx)(B,{children:(0,z.jsx)(W.M,{children:null===e||void 0===e?void 0:e.map((function(n,e){return(0,z.jsx)(X,(0,V.Z)((0,V.Z)({},n),{},{variants:{hidden:function(n){return{opacity:0,y:-50*n}},visible:function(n){return{opacity:1,y:0,transition:{delay:.05*n}}},changed:{opacity:0}},initial:t.current?"visible":"hidden",animate:"visible",exit:"changed",custom:e}),n.id)}))})})},K=t(4290),nn=t(3602),en=function(){var n=(0,g.wY)(),e=n.data,t=void 0===e?[]:e,i=n.isError,a=n.isFetching,r=(0,h.v9)((function(n){return n.filter.value})),s=(0,h.v9)((function(n){return n.auth.token}));(0,nn.XC)(void 0,{skip:!s});var o=(0,p.useMemo)((function(){return null===t||void 0===t?void 0:t.filter((function(n){var e;return null!==(e=n.name.toLowerCase().includes(r.toLowerCase()))&&void 0!==e?e:[]}))}),[r,t]);return(0,z.jsxs)(v.W2,{children:[(0,z.jsx)(F,{}),a&&(0,z.jsx)(K.a,{}),t.length>0&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(E,{}),(0,z.jsx)(H,{contacts:o})]}),i&&(0,z.jsx)("div",{children:"Something went wrong..."}),(0,z.jsx)(p.Suspense,{fallback:(0,z.jsx)(K.a,{}),children:(0,z.jsx)(m.j3,{})})]})}}}]);
//# sourceMappingURL=669.1bcb60c5.chunk.js.map