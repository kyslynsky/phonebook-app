"use strict";(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[669],{3309:function(n,e,t){t.d(e,{FV:function(){return m},LD:function(){return h},Oc:function(){return g},QG:function(){return j},l0:function(){return f},vZ:function(){return v}});var i,r,a,s,o,u,c=t(168),l=t(6031),d=t(9121),x=t(6355),p=t(7425),f=l.default.form(i||(i=(0,c.Z)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),h=(0,l.default)(d.__)(r||(r=(0,c.Z)(["\n  flex-direction: row;\n  align-items: center;\n"]))),m=(0,l.default)(d.II)(a||(a=(0,c.Z)(["\n  min-width: 280px;\n  margin-top: 3px;\n  font-weight: 500;\n"]))),g=(0,l.default)(d.zx)(s||(s=(0,c.Z)(["\n  margin-top: 12px;\n  padding: 10px 20px;\n  width: 120px;\n"]))),v=(0,l.default)(p.xiF)(o||(o=(0,c.Z)(["\n  position: absolute;\n  width: 28px;\n  height: 28px;\n"]))),j=(0,l.default)(x.VAJ)(u||(u=(0,c.Z)(["\n  position: absolute;\n  width: 28px;\n  height: 28px;\n  \n"])))},1669:function(n,e,t){t.r(e),t.d(e,{default:function(){return nn}});var i,r,a,s,o,u,c,l,d,x,p,f=t(2791),h=t(5048),m=t(6871),g=t(8806),v=t(9121),j=t(5861),b=t(885),w=t(7757),Z=t.n(w),y=t(3309),k=t(1379),C=t(620),z=t(3329),L=function(){var n=(0,g.wY)().data,e=(0,f.useState)(""),t=(0,b.Z)(e,2),i=t[0],r=t[1],a=(0,f.useState)(""),s=(0,b.Z)(a,2),o=s[0],u=s[1],c=(0,g.Tn)(),l=(0,b.Z)(c,2),d=l[0],x=l[1].isLoading,p=function(n){var e=n.currentTarget,t=e.name,i=e.value;switch(t){case"name":r(i);break;case"number":u(i);break;default:return}},h=function(){var e=(0,j.Z)(Z().mark((function e(t){return Z().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,null===n||void 0===n||!n.some((function(n){return n.name.toLowerCase()===i.toLowerCase()}))){e.next=5;break}return(0,C.PU)("".concat(i," is already exist")),e.abrupt("return");case 5:return e.next=7,d({name:i,number:o});case 7:(0,C.RT)("".concat(i," successfully added")),r(""),u(""),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),(0,C.kn)(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(n){return e.apply(this,arguments)}}();return(0,z.jsxs)(y.l0,{onSubmit:h,children:[(0,z.jsxs)(y.LD,{children:[(0,z.jsx)(y.vZ,{}),(0,z.jsx)(y.FV,{placeholder:"Name",value:i,onChange:p,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0})]}),(0,z.jsxs)(y.LD,{children:[(0,z.jsx)(y.QG,{}),(0,z.jsx)(y.FV,{placeholder:"Number",value:o,onChange:p,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0})]}),(0,z.jsx)(y.Oc,{type:"submit",disabled:x,children:x?(0,z.jsx)(k.$,{size:15}):"Add contact"})]})},F=t(9938),S=t(168),A=t(6031),_=t(7425),I=A.default.div(i||(i=(0,S.Z)(["\n  display: flex;\n  justify-content: center;\n  margin: 30px 0 30px 0;\n  text-align: center;\n"]))),T=(0,A.default)(v.__)(r||(r=(0,S.Z)(["\n  align-items: center;\n"]))),D=(0,A.default)(_._m8)(a||(a=(0,S.Z)(["\n  position: absolute;\n  width: 28px;\n  height: 28px;\n"]))),E=(0,A.default)(v.II)(s||(s=(0,S.Z)(["\n  width: 280px;\n  font-weight: 500;\n"]))),N=function(){var n=(0,h.I0)(),e=(0,h.v9)((function(n){return n.filter.value}));return(0,z.jsx)(I,{children:(0,z.jsxs)(T,{children:[(0,z.jsx)(D,{}),(0,z.jsx)(E,{placeholder:"Find contacts by name",type:"text",value:e,onChange:function(e){n((0,F.T)(e.target.value))}})]})})},V=t(1413),$=t(6036),q=t(6856),M=A.default.li(o||(o=(0,S.Z)(["\n  max-width: 450px;\n  margin: 0 auto;\n  padding: 10px 15px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: #eceff1;\n  box-shadow: 0px 3px 1px -2px rgb(0 0 0 / 20%),\n    0px 2px 2px 0px rgb(0 0 0 / 14%), 0px 1px 5px 0px rgb(0 0 0 / 12%);\n  border-radius: 5px;\n\n  &:not(:last-child) {\n    margin-bottom: 12px;\n  }\n"]))),R=A.default.span(u||(u=(0,S.Z)(["\n  font-weight: 500;\n"]))),G=A.default.div(c||(c=(0,S.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),J=(0,A.default)(v.zx)(l||(l=(0,S.Z)(["\n  width: 48px;\n  height: 42px;\n\n  &:not(:last-child) {\n    margin-right: 5px;\n  }\n"]))),O=(0,A.default)(q.oTc)(d||(d=(0,S.Z)(["\n  width: 28px;\n  height: 28px;\n  transition: all 0.2s ease-in-out;\n\n  ",":hover &,\n  ",":focus & {\n    fill: #f9ddb1;\n  }\n"])),J,J),P=(0,A.default)($.bqj)(x||(x=(0,S.Z)(["\n  width: 28px;\n  height: 28px;\n  transition: all 0.2s ease-in-out;\n\n  ",":hover &,\n  ",":focus & {\n    fill: #ffa590;\n  }\n"])),J,J),Q=(0,f.forwardRef)((function(n,e){var t=n.id,i=n.name,r=n.number,a=(0,m.s0)(),s=(0,g.Nt)(),o=(0,b.Z)(s,2),u=o[0],c=o[1],l=c.isLoading,d=c.isSuccess,x=c.isError;return d&&(0,C.hS)("".concat(i," deleted")),(0,z.jsxs)(M,{ref:e,children:[x&&(0,z.jsx)("div",{children:"Something went wrong, please try again after reload"}),(0,z.jsxs)("p",{children:[(0,z.jsxs)(R,{children:[i,": "]}),r]}),(0,z.jsxs)(G,{children:[(0,z.jsx)(J,{onClick:function(){return a("/phonebook/edit/".concat(t))},disabled:l,children:l?(0,z.jsx)(k.$,{size:16}):(0,z.jsx)(O,{})}),(0,z.jsx)(J,{onClick:function(){return u(t)},disabled:l,children:l?(0,z.jsx)(k.$,{size:16}):(0,z.jsx)(P,{})})]})]})})),Y=A.default.ul(p||(p=(0,S.Z)(["\n  margin-top: 12px;\n"]))),B=t(8250),U=t(4549),W=(0,B.E)(Q),X=function(n){var e=n.contacts,t=(0,f.useRef)(!0);return(0,f.useEffect)((function(){e&&(t.current=!1)}),[e]),(0,z.jsx)(Y,{children:(0,z.jsx)(U.M,{children:null===e||void 0===e?void 0:e.map((function(n,e){return(0,z.jsx)(W,(0,V.Z)((0,V.Z)({},n),{},{variants:{hidden:function(n){return{opacity:0,y:-50*n}},visible:function(n){return{opacity:1,y:0,transition:{delay:.05*n}}},changed:{opacity:0}},initial:t.current?"visible":"hidden",animate:"visible",exit:"changed",custom:e}),n.id)}))})})},H=t(4290),K=t(3602),nn=function(){var n=(0,g.wY)(),e=n.data,t=void 0===e?[]:e,i=n.isError,r=n.isFetching,a=(0,h.v9)((function(n){return n.filter.value})),s=(0,h.v9)((function(n){return n.auth.token}));(0,K.XC)(void 0,{skip:!s});var o=(0,f.useMemo)((function(){return null===t||void 0===t?void 0:t.filter((function(n){var e;return null!==(e=n.name.toLowerCase().includes(a.toLowerCase()))&&void 0!==e?e:[]}))}),[a,t]);return(0,z.jsxs)(v.W2,{children:[(0,z.jsx)(L,{}),r&&(0,z.jsx)(H.a,{}),t.length>0&&(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(N,{}),(0,z.jsx)(X,{contacts:o})]}),i&&(0,z.jsx)("div",{children:"Something went wrong..."}),(0,z.jsx)(f.Suspense,{fallback:(0,z.jsx)(H.a,{}),children:(0,z.jsx)(m.j3,{})})]})}}}]);
//# sourceMappingURL=669.1a7ecc32.chunk.js.map